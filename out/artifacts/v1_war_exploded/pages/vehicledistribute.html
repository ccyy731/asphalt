<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- 页面meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>沥青路面结构设计</title>
    <meta name="description" content="沥青路面结构设计">
    <meta name="keywords" content="沥青路面结构设计">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="../plugins/elementui/index.css">
    <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .table1{
            /*position: relative;*/
            /*top: 70px;*/
            bottom: 0px;
            left: 10px;
            right: 10px;
            padding: 0;
            /*width:100%;*/
            /*height:300px*/
        }
        .box {
            position: relative;
            border-radius: 3px;
            background: #ffffff;
            border-top: 3px solid #3c8dbc;
            padding: 10px;
            margin-bottom: 20px;
            width: 100%;
            height: 700px;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
        }
        .table-footer{
            position: relative;
            left: 250px;
        }
        .table-header{
            position: relative;
            left: 250px;
            top: 10px;
        }
    </style>
</head>
<body class="hold-transition">

<div id="app">

    <div class="content-header">
        <h1>交通参数<small>车辆类型分布系数</small></h1>
        <el-breadcrumb separator-class="el-icon-arrow-right" class="breadcrumb">
            <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
            <el-breadcrumb-item>交通参数</el-breadcrumb-item>
            <el-breadcrumb-item>车辆类型分布系数</el-breadcrumb-item>
        </el-breadcrumb>
    </div>

    <div class="app-container">
        <div class="box">
            <template>
                <div slot="header" class="table-header">
                <el-radio v-model="radio" label="1" align="center">水平一/二</el-radio>
                <el-radio v-model="radio" label="2" align="center">水平三</el-radio>
                <br><br>
                当前各车辆类型有效系数累计和为：
                </div>
            </template>

            <br><br>
            <template>
            <div>
                <el-table :data="items"
                          :key="randomKey"
                          border
                          :header-cell-style="{ background: '#409EFF',color: '#FFFFFF' }"
                          @cell-dblclick="editData"
                          class="table1">
    <!--                <el-table-column label="车辆类型"-->
    <!--                                 property="type"-->
    <!--                                 width="140">-->
    <!--                    <template slot-scope="scope">-->
    <!--                        <el-input v-if="scope.row[scope.column.property + 'isShow']"-->
    <!--                                  :ref="scope.column.property"-->
    <!--                                  v-model="scope.row.type"-->
    <!--                                  @blur="alterData(scope.row,scope.column)"></el-input>-->
    <!--                        <span v-else>{{ scope.row.type }}</span>-->
    <!--                    </template>-->
    <!--                </el-table-column>-->

                    <el-table-column
                            prop="type"
                            label="车辆类型"
                            align="center"
                            width="240"
                    >
                    </el-table-column>

                    <el-table-column label="系数(%)"
                                     property="coefficient"
                                     width="540"
                                     align="center"
                    >
                        <template slot-scope="scope">
                            <el-input v-if="scope.row[scope.column.property + 'isShow']"
                                      :ref="scope.column.property"
                                      v-model="scope.row.coefficient"
                                      @blur="alterData(scope.row,scope.column)"></el-input>
                            <span v-else>{{ scope.row.coefficient }}</span>
                        </template>
                    </el-table-column>
                </el-table>

                <br>
                <div slot="footer" class="table-footer">
                    <el-button type="primary" @click="submitForm('trafficFormData')">保存</el-button>
                    <el-button @click="resetForm('trafficFormData')">重置</el-button>
                </div>
            </div>
        </template>
        </div>
    </div>
</div>




<!--&lt;!&ndash; 引入组件库 &ndash;&gt;-->
<!--<script src="../js/vue.js"></script>-->
<!--<script src="../plugins/elementui/index.js"></script>-->
<!--<script type="text/javascript" src="../js/jquery.min.js"></script>-->

<script src="../js/vue.js"></script>
<script src="../element-ui/lib/index.js"></script>
<link rel="stylesheet" href="../element-ui/lib/theme-chalk/index.css">

<script>
    new Vue({
        el:"#app",
        data () {
            return {
                radio:'1',
                items: [
                    { type: '类型2', coefficient: '' },
                    { type: '类型3', coefficient: '' },
                    { type: '类型4', coefficient: '' },
                    { type: '类型5', coefficient: '' },
                    { type: '类型6', coefficient: '' },
                    { type: '类型7', coefficient: '' },
                    { type: '类型8', coefficient: '' },
                    { type: '类型9', coefficient: '' },
                    { type: '类型10', coefficient: '' },
                    { type: '类型11', coefficient: '' }

                ],
                randomKey: Math.random(),
            }
        },
        methods: {
            editData (row, column) {
                row[column.property + "isShow"] = true
                //refreshTable是table数据改动时，刷新table的
                this.refreshTable()
                this.$nextTick(() => {
                    this.$refs[column.property] && this.$refs[column.property].focus()
                })


            },
            alterData (row, column) {
                row[column.property + "isShow"] = false
                this.refreshTable()
            },
            refreshTable () {
                this.randomKey = Math.random()
            },
        }


    })
</script>
</body>
</html>